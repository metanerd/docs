


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Support Handbook &mdash; Mattermost 5.31 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme.css" type="text/css" />
    <link rel="search" title="Search" href="../search.html" />
	<!-- Google Tag Manager -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-K874RWM');</script>
	<!-- End Google Tag Manager -->


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Mattermost
          

          
          </a>

          
            
            
              <div class="version">
                5.31
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/cloud-admin-guide.html">Cloud Administrator's Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/administrator.html">Self-Managed Administrator's Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/user.html">User's Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/integration.html">Integration Guide</a></li>
<li class="toctree-l1"><a class="reference external" href="https://developers.mattermost.com/">Developer's Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Mattermost</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          


  


<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
    
    <li>Support Handbook</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/mattermost/docs/blob/master/source/process/support.md" class="fa fa-github"> Edit</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="support-handbook">
<h1>Support Handbook<a class="headerlink" href="#support-handbook" title="Permalink to this headline">¶</a></h1>
<div class="section" id="general-questions-for-any-issues">
<h2>General Questions For Any Issues<a class="headerlink" href="#general-questions-for-any-issues" title="Permalink to this headline">¶</a></h2>
<p>Questions to ask when providing support for any of the following issues.</p>
<div class="section" id="what-os-and-version-is-the-mattermost-server-installed">
<h3>What OS and version is the Mattermost server installed?<a class="headerlink" href="#what-os-and-version-is-the-mattermost-server-installed" title="Permalink to this headline">¶</a></h3>
<p>E.g.: Ubuntu 16.04, RHEL 7.1</p>
</div>
<div class="section" id="what-is-your-mattermost-server-version">
<h3>What is your Mattermost server version?<a class="headerlink" href="#what-is-your-mattermost-server-version" title="Permalink to this headline">¶</a></h3>
<p>E.g.: 4.2, 4.3</p>
</div>
<div class="section" id="are-you-experiencing-the-issues-with-the-browser-webapp-if-so-which-one">
<h3>Are you experiencing the issues with the browser webapp, if so which one?<a class="headerlink" href="#are-you-experiencing-the-issues-with-the-browser-webapp-if-so-which-one" title="Permalink to this headline">¶</a></h3>
<p>E.g.: Chrome, Firefox, Edge</p>
</div>
<div class="section" id="are-you-experiencing-the-issues-with-the-mattermost-desktop-app-if-so-what-version-and-os">
<h3>Are you experiencing the issues with the Mattermost Desktop App, if so what version and OS?<a class="headerlink" href="#are-you-experiencing-the-issues-with-the-mattermost-desktop-app-if-so-what-version-and-os" title="Permalink to this headline">¶</a></h3>
<p>E.g.: App version 3.6 on Mac, App version 3.7.1 on Windows</p>
</div>
<div class="section" id="are-you-experiencing-the-issues-with-the-mattermost-mobile-app-if-so-what-version-and-os">
<h3>Are you experiencing the issues with the Mattermost Mobile App, if so what version and OS?<a class="headerlink" href="#are-you-experiencing-the-issues-with-the-mattermost-mobile-app-if-so-what-version-and-os" title="Permalink to this headline">¶</a></h3>
<p>E.g.: App version 1.2 on iOS, App version 1.3 on Android</p>
</div>
<div class="section" id="can-you-send-a-snippet-of-the-mattermost-server-logs-around-the-time-of-the-incident">
<h3>Can you send a snippet of the Mattermost server logs around the time of the incident?<a class="headerlink" href="#can-you-send-a-snippet-of-the-mattermost-server-logs-around-the-time-of-the-incident" title="Permalink to this headline">¶</a></h3>
<p>Typically located in <code class="docutils literal notranslate"><span class="pre">/opt/mattermost/logs</span></code>.</p>
</div>
<div class="section" id="are-you-running-mattermost-in-a-container-and-or-using-container-orchestration">
<h3>Are you running Mattermost in a container and/or using container orchestration?<a class="headerlink" href="#are-you-running-mattermost-in-a-container-and-or-using-container-orchestration" title="Permalink to this headline">¶</a></h3>
<p>E.g.: Docker and Kubernetes, Docker and Cloud Foundry</p>
</div>
</div>
<div class="section" id="mattermost-is-not-working-the-server-keeps-dying">
<h2>Mattermost Is Not Working / The Server Keeps Dying<a class="headerlink" href="#mattermost-is-not-working-the-server-keeps-dying" title="Permalink to this headline">¶</a></h2>
<p>Questions to ask when dealing with general complaints along the lines of “Mattermost is not working”
or “the server keeps dying”. See the previous section if you have not yet established from the
information provided by the customer that the server is the likely issue.</p>
<div class="section" id="check-the-status-of-the-server-process">
<h3>Check the status of the server process<a class="headerlink" href="#check-the-status-of-the-server-process" title="Permalink to this headline">¶</a></h3>
<p>Assuming the customer has followed our Linux setup guide, there will be a systemd service called
<code class="docutils literal notranslate"><span class="pre">mattermost.service</span></code> on their server. You can check the status of this process with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">status</span> <span class="n">mattermost</span><span class="o">.</span><span class="n">service</span>
</pre></div>
</div>
<p>If the service is not running, and the status is not <code class="docutils literal notranslate"><span class="pre">failed</span></code>, instruct them to run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">enable</span> <span class="n">mattermost</span><span class="o">.</span><span class="n">service</span>
<span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">start</span> <span class="n">mattermost</span><span class="o">.</span><span class="n">service</span>
</pre></div>
</div>
</div>
<div class="section" id="mattermost-is-not-running-after-a-reboot">
<h3>Mattermost is not running after a reboot<a class="headerlink" href="#mattermost-is-not-running-after-a-reboot" title="Permalink to this headline">¶</a></h3>
<p>Many people miss the step in the setup guide that enables the systemd unit file for Mattermost.
Rectify this with the following commands, and ask the customer to reboot to verify it is working.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">enable</span> <span class="n">mattermost</span><span class="o">.</span><span class="n">service</span>
<span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">start</span> <span class="n">mattermost</span><span class="o">.</span><span class="n">service</span>
</pre></div>
</div>
</div>
<div class="section" id="check-the-mattermost-logs">
<h3>Check the Mattermost logs<a class="headerlink" href="#check-the-mattermost-logs" title="Permalink to this headline">¶</a></h3>
<p>Ask the customer to share the contents of <code class="docutils literal notranslate"><span class="pre">mattermost.log</span></code> from the <code class="docutils literal notranslate"><span class="pre">logs</span></code> directory of their
Mattermost installation in order to look for any indications why Mattermost has stopped running.</p>
</div>
<div class="section" id="check-the-system-logs">
<h3>Check the system logs<a class="headerlink" href="#check-the-system-logs" title="Permalink to this headline">¶</a></h3>
<p>Often, the reason for Mattermost being reported as “randomly dying” is running out of memory. Ask
the customer to send the results of the following command to inspect for evidence of OOM.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">journalctl</span> <span class="o">-</span><span class="n">u</span> <span class="n">mattermost</span><span class="o">.</span><span class="n">service</span>
</pre></div>
</div>
<p>If the OOM killer is the problem, suggest they use a machine with more RAM. If they already have
plenty of RAM for the load they are experiencing, this may indicate a bug in the Mattermost server.</p>
</div>
</div>
<div class="section" id="database-issues">
<h2>Database Issues<a class="headerlink" href="#database-issues" title="Permalink to this headline">¶</a></h2>
<p>Questions to ask when providing support for database issues.</p>
<p><strong>IMPORTANT: Before asking for any database queries to be run, suggest a back-up is completed to prevent accidental data loss or corruption.</strong></p>
<div class="section" id="postgresql-or-mysql">
<h3>PostgreSQL or MySQL?<a class="headerlink" href="#postgresql-or-mysql" title="Permalink to this headline">¶</a></h3>
<p>Find out which database they are using. We only support PostgreSQL and MySQL currently.</p>
<p>If they’re using Amazon Aurora MySQL, and their issue seems like a race condition, it might be due to the multi-region lag that Aurora can have. If this is the case there may be a race in code we need to fix. &#64;christopher will know more.</p>
</div>
<div class="section" id="what-is-the-database-version">
<h3>What is the database version?<a class="headerlink" href="#what-is-the-database-version" title="Permalink to this headline">¶</a></h3>
<p>Make sure it’s a <a class="reference external" href="https://docs.mattermost.com/install/requirements.html#database-software">version we support</a>. If we don’t support it, ask them to use a version we do support.</p>
</div>
<div class="section" id="read-replicas">
<h3>Read replicas?<a class="headerlink" href="#read-replicas" title="Permalink to this headline">¶</a></h3>
<p>Check if they have any read replicas set up. If these are misconfigured, it could be the source of some issues, such as rows not being propagated to the replicas and looking like missing/old data to a user.</p>
<p>If the read replicas are not being used, make sure they have an enterprise license uploaded.</p>
</div>
<div class="section" id="connection-errors">
<h3>Connection errors?<a class="headerlink" href="#connection-errors" title="Permalink to this headline">¶</a></h3>
<p>If their Mattermost server is unable to connect to the database, make sure the connection string being used is correct. It could also be a networking issue where the database isn’t on the same network or the right ports are not open.</p>
</div>
<div class="section" id="other">
<h3>Other<a class="headerlink" href="#other" title="Permalink to this headline">¶</a></h3>
<p>If they are receiving a specific error from the database, try using that to troubleshoot the issue.</p>
</div>
</div>
<div class="section" id="websocket-issues">
<h2>WebSocket Issues<a class="headerlink" href="#websocket-issues" title="Permalink to this headline">¶</a></h2>
<div class="section" id="can-you-send-us-the-following-mattermost-server-configuration-settings">
<h3>Can you send us the following Mattermost server configuration settings?<a class="headerlink" href="#can-you-send-us-the-following-mattermost-server-configuration-settings" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">ServiceSettings.SiteURL</span></code>, <code class="docutils literal notranslate"><span class="pre">ServiceSettings.ListenAddress</span></code>, <code class="docutils literal notranslate"><span class="pre">ServiceSettings.AllowCorsFrom</span></code>, <code class="docutils literal notranslate"><span class="pre">ServiceSettings.WebsocketSecurePort</span></code>, <code class="docutils literal notranslate"><span class="pre">ServiceSettings.WebsocketPort</span></code> Typically found in <code class="docutils literal notranslate"><span class="pre">/opt/mattermost/config/config.json</span></code></p>
</div>
<div class="section" id="can-you-send-us-your-nginx-configuration-files">
<h3>Can you send us your Nginx configuration files?<a class="headerlink" href="#can-you-send-us-your-nginx-configuration-files" title="Permalink to this headline">¶</a></h3>
<p>Typically found in <code class="docutils literal notranslate"><span class="pre">/etc/nginx/nginx.conf</span></code> and <code class="docutils literal notranslate"><span class="pre">/etc/nginx/sites-available/mattermost</span></code></p>
</div>
<div class="section" id="can-you-send-us-a-snippet-of-your-nginx-error-logs-around-the-time-of-the-incident">
<h3>Can you send us a snippet of your Nginx error logs around the time of the incident?<a class="headerlink" href="#can-you-send-us-a-snippet-of-your-nginx-error-logs-around-the-time-of-the-incident" title="Permalink to this headline">¶</a></h3>
<p>Typically found in <code class="docutils literal notranslate"><span class="pre">/var/log/nginx/error.log</span></code></p>
</div>
</div>
<div class="section" id="ldap-issues">
<h2>LDAP Issues<a class="headerlink" href="#ldap-issues" title="Permalink to this headline">¶</a></h2>
<div class="section" id="attach-your-ldap-settings-from-config-json">
<h3>Attach your LDAP settings from config.json.<a class="headerlink" href="#attach-your-ldap-settings-from-config-json" title="Permalink to this headline">¶</a></h3>
<p>The username/password should be removed.</p>
</div>
<div class="section" id="what-ad-ldap-server-and-version-are-you-using">
<h3>What AD/LDAP server and version are you using?<a class="headerlink" href="#what-ad-ldap-server-and-version-are-you-using" title="Permalink to this headline">¶</a></h3>
<p>E.g.: Active Directory on Windows Server 2016.</p>
</div>
<div class="section" id="are-there-any-ldap-errors-in-the-logs">
<h3>Are there any LDAP errors in the logs?<a class="headerlink" href="#are-there-any-ldap-errors-in-the-logs" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="is-there-a-limit-on-the-number-of-users-the-ldap-server-can-return-in-a-single-query-if-so-have-you-set-the-maximum-page-size-in-mattermost">
<h3>Is there a limit on the number of users the LDAP server can return in a single query? If so, have you set the Maximum Page Size in Mattermost?<a class="headerlink" href="#is-there-a-limit-on-the-number-of-users-the-ldap-server-can-return-in-a-single-query-if-so-have-you-set-the-maximum-page-size-in-mattermost" title="Permalink to this headline">¶</a></h3>
<p>Many LDAP servers have an upper limit on the number of users returned, so they might be hitting that limit. An error will appear in the logs usually informing of this case, but it’s good to try anyway.</p>
</div>
<div class="section" id="can-you-send-an-example-user-from-your-system">
<h3>Can you send an example user from your system?<a class="headerlink" href="#can-you-send-an-example-user-from-your-system" title="Permalink to this headline">¶</a></h3>
<p>ldapsearch command format is preferred.</p>
</div>
<div class="section" id="is-the-server-properly-licensed">
<h3>Is the server properly licensed?<a class="headerlink" href="#is-the-server-properly-licensed" title="Permalink to this headline">¶</a></h3>
<p>Check the licensing page in the system console.</p>
</div>
</div>
<div class="section" id="tls-ssl-issues">
<h2>TLS/SSL Issues<a class="headerlink" href="#tls-ssl-issues" title="Permalink to this headline">¶</a></h2>
<div class="section" id="are-you-using-a-proxy-or-the-built-in-tls-support">
<h3>Are you using a proxy or the built in TLS support?<a class="headerlink" href="#are-you-using-a-proxy-or-the-built-in-tls-support" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="are-there-any-errors-in-the-mattermost-logs">
<h3>Are there any errors in the Mattermost logs?<a class="headerlink" href="#are-there-any-errors-in-the-mattermost-logs" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="send-us-your-config-json-for-example">
<h3>Send us your config.json. For example:<a class="headerlink" href="#send-us-your-config-json-for-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grep</span> <span class="s2">&quot;TLS&quot;</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">mattermost</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">config</span><span class="o">.</span><span class="n">json</span> 
        <span class="s2">&quot;TLSCertFile&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;TLSKeyFile&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;TLSMinVer&quot;</span><span class="p">:</span> <span class="s2">&quot;1.2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;TLSStrictTransport&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;TLSStrictTransportMaxAge&quot;</span><span class="p">:</span> <span class="mi">63072000</span><span class="p">,</span>
        <span class="s2">&quot;TLSOverwriteCiphers&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;ConnectionSecurity&quot;</span><span class="p">:</span> <span class="s2">&quot;STARTTLS&quot;</span><span class="p">,</span>
</pre></div>
</div>
</div>
<div class="section" id="send-your-proxy-configuration-if-you-are-using-one">
<h3>Send your proxy configuration if you are using one.<a class="headerlink" href="#send-your-proxy-configuration-if-you-are-using-one" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="have-you-followed-one-of-the-setup-guides">
<h3>Have you followed one of the setup guides?<a class="headerlink" href="#have-you-followed-one-of-the-setup-guides" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="check-the-status-of-the-ssl-certificate-being-used-on-mattermost-for-example">
<h3>Check the status of the SSL certificate being used on Mattermost. For example:<a class="headerlink" href="#check-the-status-of-the-ssl-certificate-being-used-on-mattermost-for-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="o">|</span> <span class="n">openssl</span> <span class="n">s_client</span> <span class="o">-</span><span class="n">showcerts</span> <span class="o">-</span><span class="n">connect</span> <span class="o">&lt;</span><span class="n">URL</span><span class="o">&gt;</span><span class="p">:</span><span class="mi">443</span> <span class="o">-</span><span class="n">CApath</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">ssl</span><span class="o">/</span> <span class="o">&amp;&amp;</span> <span class="n">echo</span> <span class="o">|</span> <span class="n">openssl</span> <span class="n">s_client</span> <span class="o">-</span><span class="n">connect</span> <span class="o">&lt;</span><span class="n">URL</span><span class="o">&gt;</span><span class="p">:</span><span class="mi">443</span> <span class="mi">2</span><span class="o">&gt;/</span><span class="n">dev</span><span class="o">/</span><span class="n">null</span> <span class="o">|</span> <span class="n">openssl</span> <span class="n">x509</span> <span class="o">-</span><span class="n">noout</span> <span class="o">-</span><span class="n">dates</span> <span class="o">-</span><span class="n">text</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="gitlab-issues">
<h2>GitLab Issues<a class="headerlink" href="#gitlab-issues" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general-questions">
<h3>General Questions<a class="headerlink" href="#general-questions" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li>Have they set up Mattermost on its own, or are they using GitLab Omnibus?</li>
<li>If using GitLab Omnibus, what version of it do they have?</li>
<li>If using GitLab Omnibus, Can they send us the Mattermost section of their gitlab.rb (found in <code class="docutils literal notranslate"><span class="pre">/etc/gitlab/gitlab.rb</span></code>) and their config.json (found in <code class="docutils literal notranslate"><span class="pre">/var/opt/gitlab/mattermost/config.json</span></code>)?</li>
</ol>
</div>
<div class="section" id="connection-issues">
<h3>Connection issues<a class="headerlink" href="#connection-issues" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li>If they try to access Mattermost and receive a “took too long to respond” error page, they should check to confirm that their <code class="docutils literal notranslate"><span class="pre">mattermost_external_url</span></code> is set correctly in their gitlab.rb. Then, they should run <code class="docutils literal notranslate"><span class="pre">gitlab-ctl</span> <span class="pre">reconfigure</span></code>.</li>
<li>If they try to access Mattermost and receive a 502 error, their <code class="docutils literal notranslate"><span class="pre">mattermost_external_url</span></code> is set correctly, but their Mattermost instance does not appear to be running. They should then:<ol>
<li>Run <code class="docutils literal notranslate"><span class="pre">gitlab-ctl</span> <span class="pre">status</span> <span class="pre">mattermost</span></code> to see if Mattermost is running.</li>
<li>Check the logs to see if something is preventing Mattermost from starting. They can do this by running <code class="docutils literal notranslate"><span class="pre">gitlab-ctl</span> <span class="pre">tail</span> <span class="pre">mattermost</span></code> and using <code class="docutils literal notranslate"><span class="pre">gitlab-ctl</span> <span class="pre">restart</span> <span class="pre">mattermost</span></code> to attempt to start Mattermost.</li>
</ol>
</li>
</ol>
</div>
<div class="section" id="login-issues">
<h3>Login issues<a class="headerlink" href="#login-issues" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li>Are they seeing any error messages when they try to log in? If so, what error messages are they seeing, and can they send us a screenshot?</li>
<li>Does anything appear in the Mattermost logs when they try to log in? They can see these by running <code class="docutils literal notranslate"><span class="pre">gitlab-ctl</span> <span class="pre">tail</span> <span class="pre">mattermost</span></code>.</li>
</ol>
</div>
<div class="section" id="other-debugging-information">
<h3>Other debugging information<a class="headerlink" href="#other-debugging-information" title="Permalink to this headline">¶</a></h3>
<p>Useful commands:</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">gitlab-ctl</span> <span class="pre">reconfigure</span></code> - Update <code class="docutils literal notranslate"><span class="pre">config.json</span></code> and other configuration files, then restart all services (including Mattermost).</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">gitlab-ctl</span> <span class="pre">&lt;stop/start/restart&gt;</span> <span class="pre">mattermost</span></code> - Stop/start/restart Mattermost.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">gitlab-ctl</span> <span class="pre">status</span> <span class="pre">mattermost</span></code> - Check if Mattermost is running. The printed output will start with <code class="docutils literal notranslate"><span class="pre">run</span></code> if it’s running or <code class="docutils literal notranslate"><span class="pre">down</span></code> if it’s not.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">gitlab-ctl</span> <span class="pre">tail</span> <span class="pre">mattermost</span></code> - Watch all Mattermost log files. Press CTRL+C to exit.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">gitlab-ctl</span> <span class="pre">&lt;stop/start/restart/status/tail&gt;</span> <span class="pre">&lt;nginx/postgresql/redis/etc&gt;</span></code> - Control, view status, or view logs of a different service.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">less</span> <span class="pre">/var/opt/gitlab/mattermost/config.json</span></code> - View the Mattermost <code class="docutils literal notranslate"><span class="pre">config.json</span></code> directly (use the arrow keys to scroll, press Q to exit).</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">gitlab-psql</span> <span class="pre">-d</span> <span class="pre">mattermost_production</span></code> - Access the embedded Mattermost database.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">gitlab-rails</span> <span class="pre">console</span> <span class="pre">production</span></code> - Access the GitLab admin console (press CTRL+D to exit).</p>
<ul>
<li><p class="first">You can then carry out commands such as updating a user’s password:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>user = User.find_by(email: &#39;admin@local.host&#39;)
user.password = &#39;secret_pass&#39;
user.password_confirmation = &#39;secret_pass&#39;
user.save!
</pre></div>
</div>
</li>
</ul>
</li>
</ul>
<p>File locations:</p>
<ul class="simple">
<li>Configuration files are located at <code class="docutils literal notranslate"><span class="pre">/etc/gitlab/gitlab.rb</span></code> and <code class="docutils literal notranslate"><span class="pre">/var/opt/gitlab/mattermost/config.json</span></code>.</li>
<li>Log files are located in <code class="docutils literal notranslate"><span class="pre">/var/log/gitlab</span></code>. Mattermost’s current logs in particular are in <code class="docutils literal notranslate"><span class="pre">/var/log/gitlab/mattermost</span></code>. The current log is named <code class="docutils literal notranslate"><span class="pre">current</span></code> with older ones being named <code class="docutils literal notranslate"><span class="pre">mattermost.log</span></code> or <code class="docutils literal notranslate"><span class="pre">mattermost.logmattermost.log</span></code>.</li>
<li>The default data directory is <code class="docutils literal notranslate"><span class="pre">/var/opt/gitlab/mattermost/data</span></code>.</li>
<li>Other Mattermost resources (i18n, email templates, webapp code, etc) are located in <code class="docutils literal notranslate"><span class="pre">/opt/gitlab/embedded/service/mattermost</span></code>.</li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2020 Mattermost

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
 




<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-cog">&nbsp;&nbsp;Options</span>&nbsp;
        <span class="fa fa-angle-up"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Contribute</dt>
            <dd>
                <a href="https://github.com/mattermost/docs/issues">Report a Problem</a>
            </dd>
            
            <dd>
                <a href="https://github.com/mattermost/docs/blob/master/source/process/support.md"> Edit on GitHub</a>
            </dd>
            
        </dl>
    </div>
</div>


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/myscript.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
	<header>
	<div class="header__container">
		<div class="search__icon">
			<i class="fa fa-search"></i>
		</div>
		<a href="https://docs.mattermost.com/" class="header__logo">
			<img width="176" src="https://about.mattermost.com/wp-content/uploads/2017/08/Mattermost-Logo-Blue.svg">
		</a>
		<div class="links__icon">
			<i class="fa fa-bars"></i>
		</div>
		<ul class="header__links">
			<li><a href="https://developers.mattermost.com/">Developers</a></li>
			<li><a href="https://mattermost.com/features/">Product</a></li>
			<li><a href="https://mattermost.com/pricing/">Pricing</a></li>
			<li><a href="https://mattermost.com/blog/">Blog</a></li>
			<li><a href="https://mattermost.com/download/">Download</a></li>
			<li><a href="https://mattermost.com/trial/">Trial</a></li>
		</ul>
		<div class="header__searchbar">
			<form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
                <input type="text" name="q" placeholder="Search by keyword" autofocus />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
		</div>
	</div>
</header>
	<script type="text/javascript">
		/* Temporary fix for the search capability. Fix has been committed to the theme's master;
		   however, waiting a new release to the theme.  This fix should remain in place until that
		   time.  sphinx_rtd_theme is current v0.1.10a0. Commit for the fix in the
		   theme can be found at: https://github.com/snide/sphinx_rtd_theme/commit/a5e0e304
		 */
        if(DOCUMENTATION_OPTIONS) {
			DOCUMENTATION_OPTIONS.SOURCELINK_SUFFIX = '.txt'
        }
    </script>


</body>
</html>